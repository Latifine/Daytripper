<div class="pt-24 backgrounddiv">
    <div class="w-3/5 mx-auto grid grid-cols-1 sm:grid-cols-1 lg:grid-cols-3 gap-3">
        <div class="lg:col-span-1 sm:hidden lg:block">
            <ol class="relative text-gray-500 border-s border-gray-200 mt-20">                
                <li (click)="setStep(1)" class="mb-10 ms-6">            
                    <span [ngClass]="{'bg-green-200': currentStep > 1, 'bg-gray-100' : currentStep === 1}" class="absolute flex items-center justify-center w-8 h-8 rounded-full -start-4 ring-4 ring-white">
                        <div *ngIf="currentStep>1;else not1" >
                            <svg class="w-3.5 h-3.5 text-green-500" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 12">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5.917 5.724 10.5 15 1.5"/>
                        </svg></div>
                        <ng-template #not1>
                            <svg class="w-3.5 h-3.5 text-gray-500" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 14">
                                <path d="M18 0H2a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2ZM2 12V6h16v6H2Z"/>
                                <path d="M6 8H4a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2Zm8 0H9a1 1 0 0 0 0 2h5a1 1 0 1 0 0-2Z"/>
                            </svg>
                        </ng-template>
                    </span>
                    <h3 class="font-medium leading-tight text-xl">Basic Info</h3>
                    <p class="text-sm">Name it!</p>
                </li>
                <li class="mb-10 ms-6" (click)="setStep(2)">
                    <span [ngClass]="{'bg-green-200': currentStep > 2, 'bg-gray-100' : currentStep <= 2}" class="absolute flex items-center justify-center w-8 h-8 rounded-full -start-4 ring-4 ring-white">
                    <div *ngIf="currentStep>2; else not2">
                        <svg class="w-3.5 h-3.5 text-green-500" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 12">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5.917 5.724 10.5 15 1.5"/>
                        </svg>
                    </div>
                    <ng-template #not2>
                        <svg class="w-3.5 h-3.5 text-gray-500" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 16">
                            <path d="M18 0H2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2ZM6.5 3a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5ZM3.014 13.021l.157-.625A3.427 3.427 0 0 1 6.5 9.571a3.426 3.426 0 0 1 3.322 2.805l.159.622-6.967.023ZM16 12h-3a1 1 0 0 1 0-2h3a1 1 0 0 1 0 2Zm0-3h-3a1 1 0 1 1 0-2h3a1 1 0 1 1 0 2Zm0-3h-3a1 1 0 1 1 0-2h3a1 1 0 1 1 0 2Z"/>
                        </svg>
                    </ng-template>
                    </span>
                    <h3 class="font-medium leading-tight text-xl">Address</h3>
                    <p class="text-sm">Where to go?</p>
                </li>
                <li class="mb-10 ms-6" (click)="setStep(3)">
                    <span [ngClass]="{'bg-green-200': currentStep > 3, 'bg-gray-100' : currentStep <= 3}" class="absolute flex items-center justify-center w-8 h-8 rounded-full -start-4 ring-4 ring-white">
                        <svg class="w-3.5 h-3.5 text-gray-500 " aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 18 20">
                            <path d="M16 1h-3.278A1.992 1.992 0 0 0 11 0H7a1.993 1.993 0 0 0-1.722 1H2a2 2 0 0 0-2 2v15a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2Zm-3 14H5a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2Zm0-4H5a1 1 0 0 1 0-2h8a1 1 0 1 1 0 2Zm0-5H5a1 1 0 0 1 0-2h2V2h4v2h2a1 1 0 1 1 0 2Z"/>
                        </svg>
                    </span>
                    <h3 class="font-medium leading-tight text-xl">Finishing up</h3>
                    <p class="text-sm">Almost done!</p>
                </li>
            </ol>
            <button
            class="inline-flex items-center px-3 py-2 text-base font-medium text-center text-white redBG rounded-md hover:bg-orange-800"
            (click)="detail(tripId)">
            View trip
            <svg class="rtl:rotate-180 w-3.5 h-3.5 ms-2" aria-hidden="true" xmlns="http://www.w3.org/2000/svg"
              fill="none" viewBox="0 0 14 10">
              <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M1 5h12m0 0L9 1m4 4L9 9" />
            </svg>
          </button>
            
        </div>
        <div class="sm:col-span-1 lg:col-span-2 relative animation-container w-4/5 mt-12">
            <div [@slideInOut] *ngIf="currentStep === 1" class="slide-in-out first-step">
                <h2 class="mb-3">Activity</h2>
                <div class="grid grid-cols-2">
                    <label for="title" class="block text-sm font-medium my-auto text-gray-900">Title</label>
                    <input required type="text" id="title" [(ngModel)]="name" class="bg-gray-200 border border-gray-600 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5">
        
                    <label for="activity" class="block text-sm font-medium my-auto text-gray-900">Activity type</label>
                    <select required id="activity" [(ngModel)]="activityTypeId" class="mt-3 bg-gray-200 border border-gray-600 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5">
                        <option *ngFor="let type of activitytypes" [value]="type.id">{{ type.name}}</option>
                    </select>

                    <label for="budget" class="block text-sm font-medium my-auto mt-3 text-gray-900">Budget</label>
                    <input type="number" [(ngModel)]="budget" id="budget" placeholder="(Optional)" class="mt-3 bg-gray-200 border border-gray-600 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5">
          
                </div>
                <button (click)="nextStep()" class="text-white mt-5 redBG hover:bg-red-800 focus:ring-4 focus:outline-none rounded-lg text-lg py-2 w-full">Next</button>
            </div>
            <div [@slideInOut] *ngIf="currentStep === 2" class="slide-in-out">
                <div>
                    <label for="base-input" class="my-2 block text-sm font-medium text-gray-900">Address</label>
                    <input required type="text" [(ngModel)]="address" id="base-input" class="bg-gray-200 border border-gray-600 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5">

                    <label for="base-input" class="my-2 block text-sm font-medium text-gray-900">City</label>
                    <input required type="text" [(ngModel)]="city" id="base-input" class="bg-gray-200 border border-gray-600 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5">

                    <label for="base-input" class="my-2 block text-sm font-medium text-gray-900">Country</label>
                    <input required type="text" [(ngModel)]="country" id="base-input" class="bg-gray-200 border border-gray-600 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5">
                </div>
                    <button (click)="goBack()" class="text-gray-700 mt-5 bg-gray-300 hover:bg-gray-400 focus:ring-4 focus:outline-none rounded-lg text-lg py-2 w-full">Go Back</button>
                    <button (click)="nextStep()" class="text-white mt-5 redBG hover:bg-red-800 focus:ring-4 focus:outline-none rounded-lg text-lg py-2 w-full">Next</button>   
            </div>
            <div [@slideInOut] *ngIf="currentStep === 3" class="slide-in-out">
                <div>
                    <div>            
                        <label for="message" class="block my-3 text-sm font-medium text-gray-900">Description</label>
                        <textarea id="message" [(ngModel)]="description" rows="4" class="block p-2.5 w-full text-sm text-gray-900 bg-gray-200 rounded-lg border border-gray-600 focus:ring-blue-500 focus:border-blue-500 " placeholder="Describe the trip..."></textarea>
                    </div>
                    <div class="grid grid-cols-2 gap-2">
                        <div>
                            <label for="startDate" class="my-2 block text-sm font-medium text-gray-900">Date</label>
                            <select required id="startDate" [(ngModel)]="selectedDayId" (ngModelChange)="onchange()" class="mt-3 bg-gray-200 border border-gray-600 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5">
                              <option [ngValue]="-1">Choose a Date</option>
                              <option *ngFor="let day of getDaysInTrip(); let i = index" [ngValue]="i">{{ formatDay(day) }}</option>
                            </select>
                          </div>
                        <div> <label for="time" class="my-2 block text-sm font-medium text-gray-900">Time</label>
                            <input required type="time" [(ngModel)]="time" id="time" class="bg-gray-200 border border-gray-600 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5">
                        </div>
                    </div>
                    <button (click)="goBack()" class="text-gray-700 mt-5 bg-gray-300 hover:bg-gray-400 focus:ring-4 focus:outline-none rounded-lg text-lg py-2 w-full">Go Back</button>
                    <div class="flex justify-center mb-6" *ngIf="!isEditing">
                        <button type="button" (click)="addActivity(); $event.preventDefault();" class="text-white mt-5 blueBG hover:bg-teal-600 focus:ring-4 focus:outline-none rounded-lg text-lg py-2 w-full">Add activity</button>
                    </div>
                    <div *ngIf="isEditing" class="flex justify-center mb-6">
                        <button type="button" (click)="saveActivity(); $event.preventDefault();" class="text-white mt-5 blueBG hover:bg-teal-600 focus:ring-4 focus:outline-none rounded-lg text-lg py-2 w-full">Save activity</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="w-4/5 mx-auto">
        <div class="relative overflow-x-auto shadow-md sm:rounded-lg">
            <table class="w-full text-sm text-left rtl:text-right text-gray-500">
                <thead class="text-xs text-gray-700 uppercase greenBG w-full">
                    <tr class="text-center grid grid-cols-6 gap-6">
                        <th scope="col" class="px-10 py-6">
                            Activity Name
                        </th>
                        <th scope="col" class="px-10 py-6">
                            Activity Type
                        </th>
                        <th scope="col" class="px-10 py-6">
                            Estimated Price
                        </th>
                        <th scope="col" class="px-10 py-6">
                            Date & Time
                        </th>
                        <th scope="col" class="px-10 py-6">
                            <svg class="mx-auto" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" height="20px" width="20px" version="1.1" id="Capa_1" viewBox="0 0 306.637 306.637" xml:space="preserve">
                                <path d="M12.809,238.52L0,306.637l68.118-12.809l184.277-184.277l-55.309-55.309L12.809,238.52z M60.79,279.943l-41.992,7.896    l7.896-41.992L197.086,75.455l34.096,34.096L60.79,279.943z"/>
                                <path d="M251.329,0l-41.507,41.507l55.308,55.308l41.507-41.507L251.329,0z M231.035,41.507l20.294-20.294l34.095,34.095    L265.13,75.602L231.035,41.507z"/>
                            </svg>
                        </th>
                        <th scope="col" class="px-10 py-6">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-trash mx-auto"
                            viewBox="0 0 16 16">
                                <path
                                    d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"
                                    fill="black">
                                </path>
                                <path fill-rule="evenodd"
                                    d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"
                                    fill="black">
                                </path>
                            </svg>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let act of getActiveActivities()" class="text-center grid grid-cols-6 gap-6">
                        <th scope="row" class="px-10 py-6">
                            {{act.name}}
                        </th>
                        <td class="px-10 py-6">
                            {{act.activityType.name}}
                        </td>
                        <td class="px-10 py-6">
                            € {{act.price}}
                        </td>
                        <td class="px-10 py-6 mx-auto">
                            <p>{{ act.datetime | date: 'dd/MM/yyyy' }}</p>
                            <p>{{ act.datetime | date: 'HH:mm' }}</p>
                        </td>
                        <td class="px-10 py-6">
                            <svg (click)="editActivity(act.id); $event.preventDefault();" class="hover:fill-green-500 mx-auto" height="32" width="32" viewBox="0 0 306.637 306.637">
                                <path d="M12.809,238.52L0,306.637l68.118-12.809l184.277-184.277l-55.309-55.309L12.809,238.52z M60.79,279.943l-41.992,7.896    l7.896-41.992L197.086,75.455l34.096,34.096L60.79,279.943z"/>
                                <path d="M251.329,0l-41.507,41.507l55.308,55.308l41.507-41.507L251.329,0z M231.035,41.507l20.294-20.294l34.095,34.095    L265.13,75.602L231.035,41.507z"/>
                            </svg>
                        
                        </td>
                        <td class="px-10 py-6">
                            <svg (click)="confirmDeactivate(act.id); $event.preventDefault();" width="32" height="32"  class="hover:fill-red-500 mx-auto"
                            viewBox="0 0 16 16">
                                <path
                                    d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z">
                                </path>
                                <path fill-rule="evenodd"
                                    d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z">
                                </path>
                            </svg>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
