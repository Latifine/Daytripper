<div class="pt-24 container mx-auto backgrounddiv">
    <div class="w-4/5 mx-auto grid grid-cols-1 sm:grid-cols-1 lg:grid-cols-3 gap-3">
        <div class="lg:col-span-1 sm:hidden lg:block mx-auto">
            <ol class="relative text-gray-500 border-s border-gray-200 mt-24">                
                <li (click)="setStep(1)" class="mb-10 ms-6">            
                    <span [ngClass]="{'bg-green-200': currentStep > 1, 'bg-gray-100' : currentStep === 1}" class="absolute flex items-center justify-center w-8 h-8 rounded-full -start-4 ring-4 ring-white">
                        <div *ngIf="currentStep>1;else not1" >
                            <svg class="w-3.5 h-3.5 text-green-500" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 12">
                            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5.917 5.724 10.5 15 1.5"/>
                        </svg></div>
                        <ng-template #not1>
                            <svg class="w-3.5 h-3.5 text-gray-500" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 14">
                                <path d="M18 0H2a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2ZM2 12V6h16v6H2Z"/>
                                <path d="M6 8H4a1 1 0 0 0 0 2h2a1 1 0 0 0 0-2Zm8 0H9a1 1 0 0 0 0 2h5a1 1 0 1 0 0-2Z"/>
                            </svg>
                            </ng-template>
                        </span>
                        <h3 class="font-medium leading-tight text-xl">Basic Info</h3>
                        <p class="text-sm">Name it!</p>
                    </li>
                    <li class="mb-10 ms-6" (click)="setStep(2)">
                        <span [ngClass]="{'bg-green-200': currentStep > 2, 'bg-gray-100' : currentStep <= 2}" class="absolute flex items-center justify-center w-8 h-8 rounded-full -start-4 ring-4 ring-white">
                        <div *ngIf="currentStep>2; else not2">
                            <svg class="w-3.5 h-3.5 text-green-500" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 12">
                                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5.917 5.724 10.5 15 1.5"/>
                            </svg>
                        </div>
                        <ng-template #not2>
                            <svg class="w-3.5 h-3.5 text-gray-500" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 20 16">
                                <path d="M18 0H2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2ZM6.5 3a2.5 2.5 0 1 1 0 5 2.5 2.5 0 0 1 0-5ZM3.014 13.021l.157-.625A3.427 3.427 0 0 1 6.5 9.571a3.426 3.426 0 0 1 3.322 2.805l.159.622-6.967.023ZM16 12h-3a1 1 0 0 1 0-2h3a1 1 0 0 1 0 2Zm0-3h-3a1 1 0 1 1 0-2h3a1 1 0 1 1 0 2Zm0-3h-3a1 1 0 1 1 0-2h3a1 1 0 1 1 0 2Z"/>
                            </svg>
                        </ng-template>
                        </span>
                        <h3 class="font-medium leading-tight text-xl">Address</h3>
                        <p class="text-sm">Where to go?</p>
                    </li>
                    <li class="mb-10 ms-6" (click)="setStep(3)">
                        <span [ngClass]="{'bg-green-200': currentStep > 3, 'bg-gray-100' : currentStep <= 3}" class="absolute flex items-center justify-center w-8 h-8 rounded-full -start-4 ring-4 ring-white">
                            <svg class="w-3.5 h-3.5 text-gray-500 " aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 18 20">
                                <path d="M16 1h-3.278A1.992 1.992 0 0 0 11 0H7a1.993 1.993 0 0 0-1.722 1H2a2 2 0 0 0-2 2v15a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V3a2 2 0 0 0-2-2Zm-3 14H5a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2Zm0-4H5a1 1 0 0 1 0-2h8a1 1 0 1 1 0 2Zm0-5H5a1 1 0 0 1 0-2h2V2h4v2h2a1 1 0 1 1 0 2Z"/>
                            </svg>
                        </span>
                        <h3 class="font-medium leading-tight text-xl">Finishing up</h3>
                        <p class="text-sm">Almost done!</p>
                    </li>
                </ol>
                
            </div>
            <div class="sm:col-span-1 lg:col-span-2 relative animation-container w-4/5 mt-12">
                <div [@slideInOut] *ngIf="currentStep === 1" class="slide-in-out first-step">
                    <div class="flex items-center space-x-4 group relative">
                        <label for="imageUpload" class="cursor-pointer relative">
                            <img class="w-28 h-28 mb-6 p-1 rounded-full ring-2 object-cover ring-gray-300 opacity-90" src="{{this.logo}}" alt="Bordered avatar">
                            <div class="absolute inset-0 mb-6 p-1 flex items-center justify-center bg-gray-800 bg-opacity-50 opacity-0 hover:opacity-100 transition duration-300 rounded-full">
                                <span class="text-white text-sm font-bold">Upload Image</span>
                            </div>
                        </label>
                        <div class="text-lg font-medium pb-6 pl-1">
                            <div>Upload image</div>
                        </div>
                    </div>
                    <input type="file" id="imageUpload" (change)="onFileSelected($event)" class="hidden" [accept]="'image/*'">
                
                    <div class="grid grid-cols-2">
                        <label for="title" class="block text-sm font-medium my-auto text-gray-900">Title</label>
                        <input required type="text" [(ngModel)]="name" id="title" class="bg-gray-200 border border-gray-600 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5">
            
                        <label for="budget" class="block text-sm font-medium my-auto text-gray-900">Budget</label>
                        <input type="number" [(ngModel)]="budget" placeholder="(optional)" id="budget" class="mt-3 bg-gray-200 border border-gray-600 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5">
                        
                        <label for="visibility" class="my-2 block text-sm font-medium text-gray-900">Public</label>
                        <input type="checkbox" [(ngModel)]="isPublic" id="visibility" name="visibility" value="public" class="text-gray-900 focus:ring-blue-500 focus:border-blue-500 block w-3 mt-2">
                
                    </div>
                    <!-- Button to move to the next step -->
                    <button (click)="nextStep()" class="text-white mt-5 redBG hover:bg-red-800 focus:ring-4 focus:outline-none rounded-lg text-lg py-2 w-full">Next</button>
            
                </div>
                
                <div [@slideInOut] *ngIf="currentStep === 2" class="slide-in-out">
                    <div>
                        <label for="base-input" class="my-2 block text-sm font-medium text-gray-900">Address</label>
                        <input required type="text" [(ngModel)]="address" id="base-input" class="bg-gray-200 border border-gray-600 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5">
            
                        <label for="base-input" class="my-2 block text-sm font-medium text-gray-900">City</label>
                        <input required type="text" [(ngModel)]="city" id="base-input" class="bg-gray-200 border border-gray-600 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5">
            
                        <label for="base-input" class="my-2 block text-sm font-medium text-gray-900">Country</label>
                        <input required type="text" [(ngModel)]="country" id="base-input" class="bg-gray-200 border border-gray-600 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5">
                            <!-- Button to go back to the previous step -->
                        <button (click)="goBack()" class="text-gray-700 mt-5 bg-gray-300 hover:bg-gray-400 focus:ring-4 focus:outline-none rounded-lg text-lg py-2 w-full">Go Back</button>
                        <!-- Button to move to the next step -->
                        <button (click)="nextStep()" class="text-white mt-5 redBG hover:bg-red-800 focus:ring-4 focus:outline-none rounded-lg text-lg py-2 w-full">Next</button>
                    </div>
                </div>
                
                <div [@slideInOut] *ngIf="currentStep === 3" class="slide-in-out">
                    <label for="message" class="block my-3 text-sm font-medium text-gray-900">Description</label>
                <textarea id="message" [(ngModel)]="description" rows="4" class="block p-2.5 w-full text-sm text-gray-900 bg-gray-200 rounded-lg border border-gray-600 focus:ring-blue-500 focus:border-blue-500 " placeholder="Describe the trip... (optional)"></textarea>
                <div date-rangepicker class="grid grid-cols-7 mt-4">
                    <div class="relative col-span-3">
        
                        <input required name="start" [(ngModel)]="startDate" [max]="'9999-12-31'" type="date" class="bg-gray-200 border border-gray-600 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-16 p-2.5 " placeholder="Select date start">
                    </div>
                    <span class="text-gray-500 text-lg m-auto">to</span>
                    <div class="relative col-span-3">
                        <input required name="end" [(ngModel)]="endDate" [max]="'9999-12-31'" type="date" class="bg-gray-200 border border-gray-600 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full pl-16 p-2.5" placeholder="Select date end">
        
                    </div>
                </div>
                <div>
                    <!-- Button to go back to the previous step -->
                    <button (click)="goBack()" class="text-gray-700 mt-5 bg-gray-300 hover:bg-gray-400 focus:ring-4 focus:outline-none rounded-lg text-lg py-2 w-full">Go Back</button>
                    <!-- Button to create the trip on the last step -->
                    <button (click)="createTrip(); $event.preventDefault();" class="text-white mt-5 blueBG hover:bg-teal-600 focus:ring-4 focus:outline-none rounded-lg text-lg py-2 w-full">Create trip</button>
                </div>
            </div>  
        </div>     
    </div>
</div>
